<script>
  function onUseAbility() {
    const ability = api.getValue(getNearestParentDataPath(dataPath));
    useAbility(record, ability);
  }
</script>

<div style="height: 30px; display: flex; gap: 4px; align-items: center">
  <div style="flex-grow: 1">
    <namefield
      size="xs"
      variant="standard"
      placeholder="Action Name..."
      field="namefield"
    ></namefield>
  </div>
  <button
    field="useButton"
    size="xs"
    label="Use"
    color="primary"
    variant="light"
    onclick="onUseAbility();"
  ></button>
</div>
<accordion
  field="actionDetailsAccordion"
  label="Description"
  size="xs"
  variant="light"
>
  <richtextfield
    width="100%"
    field="description"
    label="Description"
    placeholder="Enter Description..."
    disablecontrols="true"
  ></richtextfield>
</accordion>
<accordion
  field="actionModifiersAccordion"
  label="Settings"
  size="xs"
  hideonlocked="true"
  variant="light"
>
  <div style="display: flex; flex-direction: row; gap: 4px; margin-bottom: 4px">
    <stringfield
      width="100%"
      size="xs"
      field="skill"
      label="Skill"
      placeholder="Enter Skill to Roll if Applicable..."
    ></stringfield>
  </div>
</accordion>
